<!DOCTYPE html>
<html class="no-js" lang="zxx">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="x-ua-compatible" content="ie=edge" />
    <title>wearUat - Unlock the hidden potential of your wardrobe</title>
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" type="image/x-icon" href="assets/images/favicon.svg" />

    <!-- ========================= CSS here ========================= -->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="assets/css/LineIcons.2.0.css" />
    <link rel="stylesheet" href="assets/css/animate.css" />
    <link rel="stylesheet" href="assets/css/tiny-slider.css" />
    <link rel="stylesheet" href="assets/css/glightbox.min.css" />
    <link rel="stylesheet" href="assets/css/main.css" />
</head>

<body>
<!--[if lte IE 9]>
<p class="browserupgrade">
    You are using an <strong>outdated</strong> browser. Please
    <a href="https://browsehappy.com/">upgrade your browser</a> to improve
    your experience and security.
</p>
<![endif]-->

<!-- Preloader -->
<div class="preloader">
    <div class="preloader-inner">
        <div class="preloader-icon">
            <span></span>
            <span></span>
        </div>
    </div>
</div>
<!-- /End Preloader -->

<!-- Start Header Area -->
<header class="header navbar-area">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-12">
                <div class="nav-inner">
                    <!-- Start Navbar -->
                    <nav class="navbar navbar-expand-lg">
                        <a class="navbar-brand" href="index.html">
                            <img src="assets/images/logo/white-logo.png" alt="Logo">
                        </a>
                        <button class="navbar-toggler mobile-menu-btn" type="button" data-bs-toggle="collapse"
                                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                                aria-expanded="false" aria-label="Toggle navigation">
                            <span class="toggler-icon"></span>
                            <span class="toggler-icon"></span>
                            <span class="toggler-icon"></span>
                        </button>
                        <div class="collapse navbar-collapse sub-menu-bar" id="navbarSupportedContent">
                            <ul id="nav" class="navbar-nav ms-auto">
                                <li class="nav-item">
                                    <a href="#home" class="page-scroll active"
                                       aria-label="Toggle navigation">Home</a>
                                </li>
                                <li class="nav-item">
                                    <a href="#features" class="page-scroll"
                                       aria-label="Toggle navigation">Features</a>
                                </li>
                                <li class="nav-item">
                                    <a href="javascript:void(0)" aria-label="Toggle navigation">Overview</a>
                                </li>
                                <li class="nav-item">
                                    <a href="#contact" aria-label="Toggle navigation">Contact</a>
                                </li>
                            </ul>
                        </div> <!-- navbar collapse -->
                        <div class="button add-list-button">
                            <a href="javascript:void(0)" class="btn">지금 시작하기</a>
                        </div>
                    </nav>
                    <!-- End Navbar -->
                </div>
            </div>
        </div> <!-- row -->
    </div> <!-- container -->
</header>
<!-- End Header Area -->

<!-- Start Hero Area -->
<section id="home" class="hero-area">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-5 col-md-12 col-12">
                <div class="hero-content">
                    <h1 class="wow fadeInLeft" data-wow-delay=".4s">오늘의 스타일, 오늘의 나</h1>
                    <p class="wow fadeInLeft" data-wow-delay=".6s">"오늘 뭐 입지?" 고민에서 바어나세요!</br>wearUat은 옴장 속 아이템을 활용해 그 날의 낤시와 시간에 맞은 최적의 스타일을 제안합니다.</p>
                </div>
            </div>
            <div class="col-lg-7 col-md-12 col-12">
                <div class="hero-image wow fadeInRight" data-wow-delay=".4s">
                    <img src="assets/images/hero/phone.png" alt="#">
                </div>
            </div>
        </div>
    </div>
</section>
<!-- End Hero Area -->

<!-- Start Features Area -->
<section id="features" class="features section">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="section-title">
                    <h3 class="wow zoomIn" data-wow-delay=".2s">Features</h3>
                    <h2 class="wow fadeInUp" data-wow-delay=".4s">
                        <img src="assets/images/logo/white-logo.png" alt="#" class="logo_inline">이 특별한 이유
                    </h2>
                </div>
            </div>
        </div>
        <div class="row">
            <!-- Feature Item -->
            <div class="col-lg-4 col-md-6 col-12">
                <div class="single-feature wow fadeInUp" data-wow-delay=".2s">
                    <i class="lni lni-cloudy-sun"></i>
                    <h3>낤시와 시간에 맞은 스마트 스타일링</h3>
                    <p>오늘의 낤시와 시간에 다크 맞는 코디를 제안합니다.</p>
                </div>
            </div>
            <!-- End Feature Item -->
        </div>
    </div>
</section>
<!-- End Features Area -->

<!-- Start Contact Area -->
<section id="contact" class="contact-area">
    <div class="container">
        <div class="row">
            <div class="col-12">
                <div class="section-title">
                    <h3 class="wow zoomIn" data-wow-delay=".2s">Contact</h3>
                    <h2 class="wow fadeInUp" data-wow-delay=".4s">의견을 들려주세요!</h2>
                    <p class="wow fadeInUp" data-wow-delay=".6s">wearUat에 대한 의견이나 제안이 있으시나요?</p>
                </div>
                <form action="#" style="max-width: 700px; margin: 0 auto;">
                    <input type="email" name="email" placeholder="이메일 주소(선택)" style="width: 100%; padding: 10px; margin-bottom: 2px; border: 1px solid #ddd; border-radius: 5px; font-size: 14px;">
                    <div class="form-helper-text">
                        * 이메일 주소를 입력해주시면 wearUat의 최신 소식을 보내드립니다!
                    </div>
                    <textarea name="feedback" placeholder="소중한 의견을 적어주세요!" style="width: 100%; height: 120px; padding: 10px; margin-bottom: 15px; border: 1px solid #ddd; border-radius: 5px; font-size: 14px; resize: none;"></textarea>
                    <button type="submit" style="padding: 10px 20px; background-color: #01754E; color: #fff; border: none; border-radius: 5px; font-size: 16px; cursor: pointer;">
                        <i class="lni lni-envelope"></i>  보내기
                    </button>
                </form>
            </div>
        </div>
    </div>
</section>
<!-- End Contact Area -->

<!-- Start Footer Area -->
<footer class="footer">
    <div class="footer-top">
        <div class="container" align="center">
            <div class="single-footer f-about">
                <div class="logo">
                    <a href="index.html">
                        <img src="assets/images/logo/white-logo.png" alt="#">
                    </a>
                </div>
                <p>Unlock the hidden potential of your wardrobe.</p>
                <ul class="social">
                    <li><a href="javascript:void(0)"><i class="lni lni-facebook-filled"></i></a></li>
                    <li><a href="javascript:void(0)"><i class="lni lni-twitter-original"></i></a></li>
                    <li><a href="javascript:void(0)"><i class="lni lni-instagram"></i></a></li>
                    <li><a href="javascript:void(0)"><i class="lni lni-linkedin-original"></i></a></li>
                    <li><a href="javascript:void(0)"><i class="lni lni-youtube"></i></a></li>
                </ul>
                <p class="copyright-text">Designed and Developed by <a href="https://uideck.com/"
                                                                       rel="nofollow" target="_blank">UIdeck</a>
                </p>
            </div>
        </div>
    </div>
</footer>
<!-- End Footer Area -->

<!-- ========================= scroll-top ========================= -->
<a href="#" class="scroll-top">
    <i class="lni lni-chevron-up"></i>
</a>

<!-- ========================= JS here ========================= -->
<script src="https://code.jquery.com/jquery-latest.min.js"></script>
<script src="assets/js/bootstrap.min.js"></script>
<script src="assets/js/wow.min.js"></script>
<script src="assets/js/tiny-slider.js"></script>
<script src="assets/js/glightbox.min.js"></script>
<script src="assets/js/count-up.min.js"></script>
<script src="assets/js/main.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/busy-load/dist/app.min.js"></script>
<link href="https://cdn.jsdelivr.net/npm/busy-load/dist/app.min.css" rel="stylesheet">

<!-- Custom Script -->
<script>
    $(document).ready(function () {
        // 방문 이력 데이터 생성
        var data = JSON.stringify({
            id: getUVfromCookie(),
            landingUrl: window.location.href,
            ip: ip,
            referer: document.referrer,
            time_stamp: getTimeStamp(),
            utm: utm, // http://127.0.0.1:5500/index.html?utm=campaign1 호출 시 utm 값을 가져옴
            device: mobile,
        });

        // 데이터 전송 (프록시 서버를 통해 Google Apps Script에 요청 보내기)
        axios.post('http://localhost:3000/proxy', JSON.parse(data))
            .then(response => {
                console.log(JSON.stringify(response));
                $('<div id="result" style="font-size:10px; width:200px; word-wrap: break-word; text-overflow: ellipsis; overflow:hidden"></div>').appendTo('#wrapper');
                $('#result').text(JSON.stringify(response));
            })
            .catch(error => {
                console.error('Error occurred:', error);
            });
    });

    // IP 가져오기
    var ip = "null";
    function getIP(json) {
        try {
            ip = json.ip;
        } catch (e) {
            ip = 'unknown';
        }
    }

    // 유저 ID 쿠키 관리
    function getCookieValue(name) {
        const value = "; " + document.cookie;
        const parts = value.split("; " + name + "=");
        if (parts.length === 2) return parts.pop().split(";").shift();
    }

    function setCookieValue(name, value, days) {
        let expires = "";
        if (days) {
            const date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            expires = "; expires=" + date.toUTCString();
        }
        document.cookie = name + "=" + (value || "") + expires + "; path=/";
    }

    function getUVfromCookie() {
        const hash = Math.random().toString(36).substring(2, 8).toUpperCase();
        const existingHash = getCookieValue("user");
        if (!existingHash) {
            setCookieValue("user", hash, 180); // 6개월 동안 유지
            return hash;
        } else {
            return existingHash;
        }
    }

    // Timestamp 생성
    function padValue(value) {
        return value < 10 ? "0" + value : value;
    }

    function getTimeStamp() {
        const date = new Date();
        return `${padValue(date.getFullYear())}-${padValue(date.getMonth() + 1)}-${padValue(date.getDate())} ${padValue(date.getHours())}:${padValue(date.getMinutes())}:${padValue(date.getSeconds())}`;
    }

    // UTM 파라미터 가져오기
    const queryString = location.search;
    const urlParams = new URLSearchParams(queryString);
    const utm = urlParams.get("utm");

    // Device 정보 가져오기
    var mobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ? 'mobile' : 'desktop';
</script>
<script>
    /* data를 만들 땐 모든 field가 들어 있어야 함 */
    var data = JSON.stringify(
        {"id":getUVfromCookie(),
            "landingUrl":window.location.href,
            "ip":ip,
            "referer":document.referrer,
            "time_stamp":getTimeStamp(),
            "utm":utm,   // http://127.0.0.1:5500/index.html?utm=campaign1 로 호출시, utm을 가져옴
            "device":mobile}
    );

    $(document).ready(function () {

        addrScript = 'https://script.google.com/macros/s/AKfycby1mlc13PtRJHgiZmiY6oclqBSff4cjbbDVAeq99Cvzia_IqmnfbcFwmCWRRda3heyi/exec';

        /*
        $.ajax({
            url: addrScript+'?action=insert&table=visitors&data='+data,
            dataType: 'jsonp',
            success: function (data) {
            console.log('성공 - ', JSON.stringify(data));
            },
            error: function (xhr) {
            console.log('실패 - ', JSON.stringify(xhr));
            }
        });
        });*/

        axios.get(addrScript+'?action=insert&table=visitor&data='+data)
            .then(response => {
                console.log(JSON.stringify(response));
                $('<div id="result" style="font-size:10px; width:200px; word-wrap: break-word; text-overflow: ellipsis; overflow:hidden"></div>').appendTo('#wrapper');
                $('#result').text(JSON.stringify(response));
            })

    });
</script>
</body>

</html>
